(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{259:function(t,e,n){"use strict";var o=n(9),r=n(5),c=n(88),m=n(16),l=n(10),d=n(42),f=n(181),v=n(64),_=n(4),h=n(55),x=n(65).f,w=n(36).f,C=n(15).f,y=n(260).trim,N="Number",k=r.Number,I=k.prototype,z=d(h(I))==N,E=function(t){var e,n,o,r,c,m,l,code,d=v(t,!1);if("string"==typeof d&&d.length>2)if(43===(e=(d=y(d)).charCodeAt(0))||45===e){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+d}for(m=(c=d.slice(2)).length,l=0;l<m;l++)if((code=c.charCodeAt(l))<48||code>r)return NaN;return parseInt(c,o)}return+d};if(c(N,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var A,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(z?_((function(){I.valueOf.call(n)})):d(n)!=N)?f(new k(E(e)),n,S):E(e)},M=o?x(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;M.length>P;P++)l(k,A=M[P])&&!l(S,A)&&C(S,A,w(k,A));S.prototype=I,I.constructor=S,m(r,N,S)}},260:function(t,e,n){var o=n(21),r="["+n(261)+"]",c=RegExp("^"+r+r+"*"),m=RegExp(r+r+"*$"),l=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(m,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},261:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},277:function(t,e,n){var content=n(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("2166f2df",content,!0,{sourceMap:!1})},278:function(t,e,n){var content=n(313);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("1887a1a2",content,!0,{sourceMap:!1})},299:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(89);var r=n(120);function c(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},310:function(t,e,n){"use strict";n(277)},311:function(t,e,n){var o=n(24)(!1);o.push([t.i,".comment-list-wrapper[data-v-6e606598]{margin-left:7%}.comment-wrapper[data-v-6e606598]{margin-bottom:10px;background-color:hsla(0,0%,93.3%,.33333);border-radius:5px}.comment-name[data-v-6e606598]{font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:5px 5px 0}.comment-text[data-v-6e606598]{padding:0 5px}.comment-name[data-v-6e606598]::-moz-selection,.comment-text[data-v-6e606598]::-moz-selection{background:rgba(69,101,134,.23922)}.comment-name[data-v-6e606598]::selection,.comment-text[data-v-6e606598]::selection{background:rgba(69,101,134,.23922)}.comment-date[data-v-6e606598]{font-size:11px;text-align:right;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),t.exports=o},312:function(t,e,n){"use strict";n(278)},313:function(t,e,n){var o=n(24)(!1);o.push([t.i,".icon[data-v-7785e96a]{margin-right:7px}label[data-v-7785e96a]{display:block}.title[data-v-7785e96a]{font-size:20px}.comment-form-wrapper[data-v-7785e96a]{margin-left:7%;margin-bottom:20px}.username-form[data-v-7785e96a]{width:35%;margin-bottom:10px;height:25px;font-size:16px}.comment-form[data-v-7785e96a],.username-form[data-v-7785e96a]{border:none;outline:none;background-color:#eee;border-radius:3px}.comment-form[data-v-7785e96a]{padding:5px;font-size:14px;resize:none;overflow:hidden;width:100%;margin-right:10px}.comment-wrapper[data-v-7785e96a]{position:relative}.comment-list-opener[data-v-7785e96a]{position:absolute;left:50%;transform:translateX(-50%);border-radius:3px;border:0 solid #c2c2c2;background-color:transparent;font-weight:700;cursor:pointer}.comment-list-opener[data-v-7785e96a]:hover{opacity:.5}.send-button[data-v-7785e96a]{font-size:15px;margin:10px 0;padding:3px 32px;border-radius:6px;background-color:transparent;border:2px solid #777;cursor:pointer;transition:.3s}.send-button[data-v-7785e96a]:hover{background-color:#777;color:#fff}.comment-form[data-v-7785e96a]::-moz-selection,.username-form[data-v-7785e96a]::-moz-selection{background:rgba(69,101,134,.23922)}.comment-form[data-v-7785e96a]::selection,.username-form[data-v-7785e96a]::selection{background:rgba(69,101,134,.23922)}.send-button[data-v-7785e96a],.title[data-v-7785e96a],label[data-v-7785e96a]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),t.exports=o},343:function(t,e,n){"use strict";n.r(e);var o=n(299),r=(n(259),n(182),n(63),n(43),{props:{comment_list:{default:[]}},methods:{getDate:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"/").concat(this.zeroPadding(e.getMonth()+1,2),"/").concat(this.zeroPadding(e.getDate(),2)," ").concat(this.zeroPadding(e.getHours(),2),":").concat(this.zeroPadding(e.getMinutes(),2),":").concat(this.zeroPadding(e.getSeconds(),2))},zeroPadding:function(t,e){return("0000000000"+t).slice(-e)}}}),c=(n(310),n(14)),m={components:{comment:Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list-wrapper"},t._l(t.comment_list,(function(e){return n("div",{key:e.id,staticClass:"comment-wrapper"},[n("p",{staticClass:"comment-name"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"comment-text"},[t._v(t._s(e.text))]),t._v(" "),n("p",{staticClass:"comment-date"},[t._v(t._s(t.getDate(e.created_at)))])])})),0)}),[],!1,null,"6e606598",null).exports},props:{work_num:{type:Number,require:!0},comment_list:{type:Array,require:!0}},data:function(){return{author_name:"Guest",comment:"",is_open:!1,is_open_icon_list:["∨ もっと見る","∧ 閉じる"],is_open_icon:"∨ もっと見る",comments:[],preview_comments:[]}},mounted:function(){this.comments=this.comment_list,this.preview_comments=this.comments.splice(0,2)},methods:{SwitchCommentList:function(){this.is_open=!this.is_open,this.is_open_icon=this.is_open_icon_list[this.is_open?1:0]},submitComment:function(){var t=this;console.log(this.author_name,this.comment);var e={name:this.author_name,text:this.comment};this.$axios.post("/works/"+String(this.work_num)+"/comments/",e).then((function(e){t.comments=[].concat(Object(o.a)(t.comments),[e.data])})).catch((function(t){alert(t),console.error(t)})),this.comment="",this.is_open||this.SwitchCommentList()}}},l=(n(312),Object(c.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("p",{staticClass:"title"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["far","comment-dots"]}}),t._v("コメントする")],1),t._v(" "),n("form",{staticClass:"comment-form-wrapper",on:{submit:function(e){return e.preventDefault(),t.submitComment.apply(null,arguments)}}},[n("label",[t._v("ニックネーム")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.author_name,expression:"author_name"}],staticClass:"username-form",attrs:{name:"author",type:"text",required:""},domProps:{value:t.author_name},on:{input:function(e){e.target.composing||(t.author_name=e.target.value)}}}),t._v(" "),n("label",[t._v("コメント")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"comment-form",attrs:{name:"comments",type:"text",required:"",rows:"4"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),n("button",{staticClass:"send-button",attrs:{type:"submit"}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"paper-plane"}}),t._v("送信")],1)]),t._v(" "),n("p",{staticClass:"title"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"comments"}}),t._v("コメント")],1),t._v(" "),n("div",{staticClass:"comment-wrapper"},[n("comment",{attrs:{comment_list:t.preview_comments}}),t._v(" "),t.is_open?n("comment",{attrs:{comment_list:t.comments}}):t._e(),t._v(" "),t.comments.length>0?n("button",{staticClass:"comment-list-opener",on:{click:t.SwitchCommentList}},[t._v(t._s(t.is_open_icon))]):t._e()],1)])}),[],!1,null,"7785e96a",null));e.default=l.exports}}]);